{"version":3,"file":"commonHelpers9.js","sources":["../src/js/task-8.js"],"sourcesContent":["const targetEl = document.querySelector('.js-target')\nconst element = document.querySelector('.element');\nconst loadBtn = document.querySelector('.js-btn');\n\nlet currentPage;\nconst totalPages = 100;\n\n\nloadBtn.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(e) {\n    e.preventDefault();\n    currentPage = 1;\n    element.innerHTML = '';\n\n    console.log('create rounds');\n    renderRounds();\n    updateStatusObserver();\n}\n\nfunction renderRounds() {\n    let roundArray = [];\n    let roundTeg = '<div class=\"round\"></div>';\n\n    for (let i = 0; i < 5; i++) {\n       roundArray.push(roundTeg)\n    }\n    let markup = roundArray.join('');\n    element.insertAdjacentHTML('beforeend', markup)\n}\n\nfunction loadMore() {\n    currentPage += 1;\n    renderRounds();\n    updateStatusObserver();\n}\n\nfunction updateStatusObserver() {\n    const isLastPage = currentPage >= totalPages;\n    if (isLastPage) {\n       observer.unobserve(targetEl) \n    } else {\n        observer.observe(targetEl);\n    }\n}\n\n\nconst callback = function (entries, observer) {\n      entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n          loadMore();\n        console.log('loadMore');\n      }\n  });\n}\n\nconst observer = new IntersectionObserver(callback);\n\nfunction getRandomHexColor() {\n  return `#${Math.floor(Math.random() * 16777215)\n    .toString(16)\n    .padStart(6, 0)}`;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n// вішаєм в сабміті всередені функції updateStatusObserver\n// observer.observe(targetEl);"],"names":["targetEl","element","loadBtn","currentPage","totalPages","onBtnClick","renderRounds","updateStatusObserver","roundArray","roundTeg","i","markup","loadMore","observer","callback","entries","entry"],"mappings":"wFAAA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,SAAS,EAEhD,IAAIC,EACJ,MAAMC,EAAa,IAGnBF,EAAQ,iBAAiB,QAASG,CAAU,EAE5C,SAASA,EAAW,EAAG,CACnB,EAAE,eAAc,EAChBF,EAAc,EACdF,EAAQ,UAAY,GAEpB,QAAQ,IAAI,eAAe,EAC3BK,IACAC,GACJ,CAEA,SAASD,GAAe,CACpB,IAAIE,EAAa,CAAA,EACbC,EAAW,4BAEf,QAASC,EAAI,EAAGA,EAAI,EAAGA,IACpBF,EAAW,KAAKC,CAAQ,EAE3B,IAAIE,EAASH,EAAW,KAAK,EAAE,EAC/BP,EAAQ,mBAAmB,YAAaU,CAAM,CAClD,CAEA,SAASC,GAAW,CAChBT,GAAe,EACfG,IACAC,GACJ,CAEA,SAASA,GAAuB,CACTJ,GAAeC,EAE/BS,EAAS,UAAUb,CAAQ,EAE1Ba,EAAS,QAAQb,CAAQ,CAEjC,CAGA,MAAMc,EAAW,SAAUC,EAASF,EAAU,CACxCE,EAAQ,QAASC,GAAU,CACvBA,EAAM,iBACNJ,IACF,QAAQ,IAAI,UAAU,EAE9B,CAAG,CACH,EAEMC,EAAW,IAAI,qBAAqBC,CAAQ"}